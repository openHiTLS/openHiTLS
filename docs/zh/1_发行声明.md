# 发行声明

版本: openHiTLS 0.3.0

# 新特性

**openHiTLS 0.3.0 新增以下特性:**

### 后量子密码算法
* 支持ML-KEM ([FIPS 203](https://csrc.nist.gov/pubs/fips/203/final))
* 支持ML-DSA ([FIPS 204](https://csrc.nist.gov/pubs/fips/204/final))
* 支持SLH-DSA ([FIPS 205](https://csrc.nist.gov/pubs/fips/205/final))
* 支持XMSS ([RFC 8391](https://www.rfc-editor.org/rfc/rfc8391.html))
* 支持Classic McEliece ([McEliece](http://classic.mceliece.org/))
* 支持FrodoKEM ([FrodoKEM](https://frodokem.org/))

### PKI
* 支持后量子能力
    * 支持XMSS证书 ([RFC 9802](https://datatracker.ietf.org/doc/rfc9802/))
    * 支持ML-DSA证书 ([RFC 9881](https://datatracker.ietf.org/doc/rfc9881/))
    * 支持ML-KEM证书 ([RFC-to-be 9935](https://www.ietf.org/id/draft-ietf-lamps-kyber-certificates-11.txt))
    * 支持SLH-DSA证书 ([RFC 9909](https://datatracker.ietf.org/doc/rfc9909/))
    * 支持ML-DSA CMS 能力 ([RFC 9882](https://www.rfc-editor.org/rfc/rfc9882.html))
* 其他
    * 支持X25519证书([RFC 8410](https://www.rfc-editor.org/rfc/rfc8410.html))
    * 增强证书验证: 部分证书链验证、外部公钥验证、Hostname验证
    * CMS：支持SignedData编解码与签名验签
    * PKCS12增强: 支持CRL-bag、key-bag、secret-bag，支持provider卸载

### 认证协议
* SPAKE2+ ([RFC 9383](https://www.rfc-editor.org/rfc/rfc9383.html))
* HOTP ([RFC 4226](https://www.rfc-editor.org/rfc/rfc4226.html))
* TOTP ([RFC 6238](https://www.rfc-editor.org/rfc/rfc6238.html))

### 算法
* 支持AES-WRAP、RSA ISO9796-2:1997签名
* 支持SM4-HCTR、SM4-CCM模式
* 支持SHA256-MB多缓冲接口
* 支持nistp192曲线
* 支持非对称算法密钥检查
* 支持随机数fork后补种能力
* Paillier算法支持同态运算
* 支持SM9标识密码算法

### TLS
* 协议证书易用性增强
 * 支持从Buffer加载证书
 * 支持CRL
 * 支持从目录加载证书
* session管理能力增强
* DTLS mtu传输优化
* 握手Buffer内存最小化
* 新增RFC8998密码套件支持
* 新增Certificate Authorities扩展支持
* 新增TLS_FALLBACK_SCSV支持

### 命令行
新增命令行，支持的命令如下：
 * 基础命令： help，list
 * 随机数: rand
 * 加解密: enc，mac，dgst，kdf
 * 密钥和参数管理: genpkey，pkey，param ...
 * 证书和PKI: req，x509，pkcs7，pkcs12，crl ...
 * SSL/TLS客户端和服务端: s_client，s_server
 * 密码和存储： passwd

### 性能与平台
* SM2/SM3 ARMv7汇编优化
* 新增Darwin/macOS跨平台支持
* 新增STM32F407编译配置

### 认证相关
* 新增ISO19790 Provider
* 新增支持国密一级 Provider支撑认证

### 缺陷修复
* 修复HRR场景密码套件不一致问题
* 修复解析ticket nonceLen 为0时返回失败的问题
* 修复证书不支持2000年前的UTC时间问题
* T61字符串格式支持
* PSS证书签名算法匹配问题修复
* 修复DRBG，ML-KEM和原子锁内存泄漏问题
* 修复DH密钥派生前导0问题
* DRBG修复熵源浪费的问题
* 修复bmp encoding编码问题
* 修复证书解析地址偏移问题
* 修复scrypt整数溢出问题
* 修复初始化函数顺序问题
* 修复decode地址偏移问题
* 修复aes-xts汇编优化问题
* 修复对称算法汇编调用约定问题
* 修复decode框架p8密钥不支持传入口令问题
* 修复证书密钥编解码模块内存问题
